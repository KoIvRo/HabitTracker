<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="HabitTracker.Views.MainPage"
             Title="Ð¢Ñ€ÐµÐºÐµÑ€ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐµÐº">

    <ContentPage.BindingContext>
        <viewmodel:MainViewModel xmlns:viewmodel="clr-namespace:HabitTracker.ViewModels" />
    </ContentPage.BindingContext>

    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="20">

            <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
            <Label Text="Ð¢Ñ€ÐµÐºÐµÑ€ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐµÐº" 
                   FontSize="32" 
                   FontAttributes="Bold"
                   HorizontalOptions="Center"/>

            <!-- Ð”Ð°Ñ‚Ð° -->
            <HorizontalStackLayout HorizontalOptions="Center" Spacing="10">
                <Button Text="â—€" 
                        Command="{Binding PreviousDayCommand}"
                        WidthRequest="40"/>

                <Label Text="{Binding SelectedDate, StringFormat='{0:dd.MM.yyyy}'}"
                       FontSize="18"
                       VerticalOptions="Center"
                       WidthRequest="150"/>

                <Button Text="â–¶" 
                        Command="{Binding NextDayCommand}"
                        WidthRequest="40"/>

                <Button Text="Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ"
                        Command="{Binding TodayCommand}"
                        WidthRequest="100"/>
            </HorizontalStackLayout>

            <!-- ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ -->
            <Frame BackgroundColor="LightGray" Padding="15">
                <VerticalStackLayout Spacing="10">
                    <Label Text="ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ Ð´Ð½Ñ" 
                           FontSize="20" 
                           FontAttributes="Bold"
                           HorizontalOptions="Center"/>

                    <BoxView Color="{Binding MoodColor}"
                             HeightRequest="30"
                             CornerRadius="15"
                             HorizontalOptions="Fill"/>

                    <Label Text="{Binding MoodDescription}"
                           FontSize="16"
                           HorizontalOptions="Center"/>

                    <Button Text="Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ"
                            Command="{Binding SetTestMoodCommand}"
                            BackgroundColor="#2196F3"
                            TextColor="White"
                            HeightRequest="40"/>
                </VerticalStackLayout>
            </Frame>

            <!-- ÐŸÐµÑ€ÐµÑ…Ð¾Ð´ Ð² ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ -->
            <Button Text="ðŸ“… ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ" 
                    Command="{Binding GoToCalendarCommand}"
                    BackgroundColor="#4CAF50"
                    TextColor="White"
                    FontSize="16"
                    HeightRequest="50"
                    CornerRadius="10"/>

            <!-- Ð¢ÐµÑÑ‚Ð¾Ð²Ð°Ñ ÐºÐ½Ð¾Ð¿ÐºÐ° -->
            <Button Text="Ð¢ÐµÑÑ‚: Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð´Ð°Ñ‚Ñƒ"
                    Clicked="OnTestButtonClicked"
                    BackgroundColor="#FF9800"
                    TextColor="White"
                    HeightRequest="40"/>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>